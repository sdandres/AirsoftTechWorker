import csv

# Function to search for an item in the CSV database
def search_inventory(item_name, output_textbox):
    # Clear the textbox before displaying new results
    output_textbox.delete(1.0, "end")
    
    # Open and read the CSV file
    try:
        with open('inventory.csv', mode='r', newline='') as file:
            reader = csv.DictReader(file)
            # Assuming CSV has columns: ItemDescription, Location, ReorderLevel, Quantity, SKU
            for row in reader:
                if row['ItemDescription'].lower() == item_name.lower():
                    # Format the output as requested
                    result = (f"Item Description: {row['ItemDescription']}\n"
                              f"Location: {row['Location']}\n"
                              f"Reorder Level: {row['ReorderLevel']}\n"
                              f"Quantity: {row['Quantity']}\n"
                              f"SKU Number: {row['SKU']}")
                    output_textbox.insert("end", result)
                    return  # Exit once item is found
            # If item not found
            output_textbox.insert("end", "Error: Item not found in inventory.")
    except FileNotFoundError:
        output_textbox.insert("end", "Error: Inventory file not found.")
    except Exception as e:
        output_textbox.insert("end", f"Error: Something went wrong - {str(e)}")

# Example usage (assuming you integrate this into your existing GUI)
# Replace this with your actual GUI code where you call the function
if __name__ == "__main__":
    import tkinter as tk
    root = tk.Tk()
    entry = tk.Entry(root)
    entry.pack()
    output = tk.Text(root, height=10, width=50)
    output.pack()
    tk.Button(root, text="Search", 
              command=lambda: search_inventory(entry.get(), output)).pack()
    root.mainloop()